# Рефакторинг

Привет, Хабр! Последнее время очень много статей про выгорание, депрессии и
возможно психические заболевания среди программистов. Мне ВСЕ это знакомо
и я решил написать статью.

Я решил написать, потому что вижу, что многие авторы рассматривают проблему
поверхностно, сосредотачиваясь на симптомах. Это тоже важно. Но иногда 
хочется заглянуть немного глубже и попытаться вскрыть более фундаментальные
причины происходящего.

Жизнь человека во всей ее полноте, со всеми внутренними и внешними связями,
является сложной системой. Программисты каждый день на работе создают,
поддерживают, улучшают и развивают сложные системы. Они знают как это
делать. Все что требуется - направить эти знания непосредственно на
свою жизнь.

Я уверен, что многие программисты именно так и поступают. Возможно сами этого 
до конца не осознавая, применяют к жизненным ситуациям те же самые приемы,
что и к программному коду. Положительный эффект от этого может быть 
многократно усилен, если делать это вполне осознанно и на системном уровне.

Чем отличается тимлид од джуна? Думаю, что дело во многом не в знаниях языков
и приемов программирования. Джун плохо ориентируется в системе, он вносит
правки осторожно, боясь случайно разрушить то, что не понимает.
Тимлид знает систему настолько хорошо, что не боится в случае чего провести
глубокий рефакторинг, включая смену архитектуры, фреймворка, языка и экосистемы.

Мы все рождаемся неопытными джунами, и долгое время плывем по течению - жизнь с нами
просто случается. Постепенно решая практические задачи, которые нам ставит жизнь,
мы обретаем силу и понимание происходящих процессов. И в один момент мы чувствуем, 
что в состоянии провести глубокую перестройку нашей жизненной структуры.

# Основная психологическая проблема

Однажды я в одной книге прочитал фразу которая мне очень понравилась. Автор пишет:

> В 9 часов утра все дураки мира собираются на совещания и думают, как сделать
мою жизнь еще сложнее.

До некоторых пор я относился к этой фразе как к удачной шутке и прикольной метафоре.
Но в связи с тем, что сейчас творится вокруг, я понял, что эту фразу нужно воспринимать
как можно более буквально.

Окружающая среда создает для человека все новые и новые проблемы. Человек находится в постоянном
психологическом напряжении, ожидая подвоха с любой стороны: работодателя, продавца в магазине,
какого-то нового закона. В договорах мелким шрифтом написано, что практически все
условия могут быть пересмотрены. Человек постоянно ожидает удара в спину. Возможно люди попроще
могут с этим всем жить, а возможно во всем этом и участвовать. Но программист, обладающий высоким 
интеллектом и глубоким уровнем рефлексии, которые ему нужны для работы, может с этим и не справится.

Основная психологическая проблема в том, как ко всему этому относится. 
Все это надо воспринимать как внешние условия задачи. Математику глупо
обижаться, на то, что в дифференциальном уравнении возникли какие-то странные краевые условия.
Так же и мы не должны тратить на все это драгоценный запас эмоций, а зафиксировать как внешние
входные данные для наших жизненных алгоритмов.

# Динамические системы и инварианты

Наша жизнь не стоит на месте. Все постоянно меняется. Это было подмечено еще две тысячи лет назад,
когда один мудрец сказал, что нельзя войти дважды в одну и ту же реку. На это другой мудрец, еще
более разочарованный в жизни, сказал, что в одну и ту же реку нельзя зайти и однажды. Довольные
полученными результатами они разошлись и стали обдумывать другие не менее важные вопросы.

Изменчивость свойственна природе. Мы постоянно видим, как сталкиваются галактики, взрываются
сверхновые, невидимые черные дыры постоянно строят различные козни, темная материя тоже
не дремлет. Каждый, даже самый мелкий квант во Вселенной хаотически мечется в поисках занять
наиболее выгодный энергетический уровень. 

Не отстает от этого и человеческое общество. Только если в случае природы - это воздействие 
первозданного хаоса, то в случае с обществом - это сознательная целенаправленная деятельность. 
У человека постоянно выбивают почву из-под ног, чтобы он не смог твердо стоять или идти
в нужную ему сторону с комфортной для него скоростью. Мутный поток неотвратимых событий 
сбивает всех без разбору в общую кучу и с огромной скоростью увлекает в никому 
не ведомом направлении.

Сущности, непостоянные во времени, в науке называются динамическими системами. Вопрос: как
изучать систему, если она постоянно меняется. Ответ прост - нужно искать в системе то, что 
неизменно и исходя из того, что мы найдем, строить какие-то рассуждения. Характеристики
динамических систем, которые не меняются во времени, или меняются достаточно медленно, или
меняются только при каких-то существенных условиях называются инвариантами. 

Поиск инвариантов - основная задача науки, и вообще любой разумной деятельности. 
Зная инварианты системы мы можем многое сказать о ее поведении. Мы научимся предсказывать 
и даже синтезировать системы с нужными динамическими
характеристиками. Как правило, за каждым инвариантом (но не всегда) - скрывается какая-либо
физическая, психологическая или юридическая реальность. Любая физическая константа, формула
или закон в явном или неявном виде отражает инвариант.

Все трейдеры на бирже мечтают обнаружить некий инвариант, скрытый от других. Опираясь
на него они могут делать предсказания, неочевидные для всех остальных. Вот например - свободное 
обращение криптовалют - инвариантом не является, так как в любой момент
оно может быть ограничено законом. А вот постоянное желание государства контролировать финансовую 
сферу - можно считать инвариантом и уже строить на нем какие-то рассуждения. 

Вы уже поняли к чему я клоню. Любую деятельность по организации своей жизни нужно строить
на инвариантах - на том, что изменится не может, по крайней мере в обозримой перспективе.
Это не бог весть какое откровение. Об этом говорится в мудром совете мудрого человека - не строить
свой дом на песке, а строить на камне. Проблема только в том, что со всех сторон заботливые
люди самосвалами свозят песок, и мы очутились в пустыне, без каких либо заметных каменных 
конструкций.






